# 뮤텍스(Mutex)
- 임계구역(Critical Section)을 가진 스레드들의 실행시간(Running Time)이 서로 겹치지 않고 각각 단독으로 실행(상호배제_Mutual Exclusion)되도록 하는 기술
> 뮤텍스(mutex)는 상호 배제(mutual exclusion)의 약자이다.

# 뮤텍스 원리
- Key를 기반으로 한 상호배제 기법
- Key 객체를 소유한 스레드/프로세스만 자원에 접근가능
> 동기화(Synchronization) 혹은 락(Lock)을 사용하기 때문에 두 스레드가 동시 작업 불가

# 세마포어(Semaphore)
- 공유된 자원의 데이터 혹은 임계영역(Critical Section) 등에 여러 Process 혹은 Thread가 접근하는 것을 막아준다 (동기화 대상이 하나 이상)

# 세마포어 원리
- 사용하고 있는 스레드/프로세스의 수를 공통으로 관리하는 하나의 값을 이용해 상호배제를 달성
- 공유 자원에 접근할 수 있는 프로세스의 최대 허용치만큼 동시에 사용자가 접근할 수 있다

# 차이점
- Mutex는 동기화 대상이 오직 1개일 때 사용하며, Semaphore는 동기화 대상이 1개 이상일 때 사용
- Mutex는 자원을 소유할 수 있고, 책임을 가지는 반면 Semaphore는 자원 소유가 불가능
- Mutex는 상태가 0, 1 뿐이므로 Lock을 가질 수 있고, 소유하고 있는 스레드만이 이 Mutex를 해제할 수 있습니다, 반면 Semaphore는 Semaphore를 소유하지 않는 스레드가 Semaphore를 해제할 수 있습니다
- Semaphore는 시스템 범위에 걸쳐 있고, 파일 시스템 상의 파일로 존재합니다. 반면, Mutex는 프로세스의 범위를 가지며 프로세스 종료될 때 자동으로 Clean up 됩니다
> 일반적으로 뮤텍스는 프로세스 내부에서만 공유되는 반면 세마포어는 특별히 옵션을 추가하지 않으면 여러 개의 프로세스에서 접근이 가능하다

# 현실 예시
- 뮤텍스는 잠겨진 문이 있는 화장실(자원)이 1개 있는데 이 화장실을 이용하기 위해서는 문키(Key)가 필요하다. Key는 하나 뿐이며, 따라서 한 사람(스레드)이 화장실을 사용하고 있다면, 이 사람이 키를 반납하기 전까지는 다른 사람(Another Thread)는 기다려야 한다
- 세마포어는 화장실이 n개가 있는데, 이 화장실 중 빈 화장실의 갯수를 보여주는 알림판(세마포어)이 있다. 알림판의 빈 칸의 갯수가 0이 아니라면 사람(Thread)는 화장실에 들어갈 수 있다. 만약 0이라면 화장실이 빌 때까지 기다려야 한다.


# 참고

|내용|URL|
|:---|:---|
|락|https://ko.wikipedia.org/wiki/%EB%9D%BD_(%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99)|
|세마포어|https://ko.wikipedia.org/wiki/%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4|
|[운영체제] Mutex 뮤텍스와 Semaphore 세마포어의 차이|https://heeonii.tistory.com/14|