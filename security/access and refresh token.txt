# 액세스 토큰(Access Token) & 리프레시 토큰(Refresh Token)
- JWT 토큰을 사용해서 클라이언트와 서버는 안전하게 통신하다.
- 그런데 탈취 당했을 때가 문제다. 서버의 인증을 통과할 수 있기 때문이다. 따라서 유효 기간을 두어야하는 것이다.
- 그런데 유효기간을 짧게 두면 사용자가 로그인을 자주 해야하므로 사용자 경험적으로 좋지 않고, 유효기간을 길게 두면 보안상 탈취 위험에서 벗어날 수 없다.
- 해결법은 유효기간이 다른 JWT 토큰 2개(Access Token과 Refresh Token)을 두는 것이다.

# 프로세스
- 액세스 토큰의 유효기간은 짧다(짧게는 1시간 ~ 길게는 60일)
- 리프레시 토큰의 유효기간 길다(1년 이상)
- 평소 통신에는 액세스 토큰을 이용하며, 액세스 토큰이 만료될 경우 액세스 토큰을 갱신받기 위해 리프레시 토큰을 사용한다

# 구체적인 통신 프로세스
1. 서버 로그인 성공시 액세스 토큰, 리프레시 토큰을 발급 받는다
2. 클라이언트는 토큰을 로컬에 저장
3. 클라이언트는 헤더에 액세스 토큰을 넣고 통신한다
4. 액세스 토큰이 만료되면(401에러), 리프레시 토큰을 넣어 재요청한다
5. 서버는 리프레시 토큰을 받고 새로운 액세스 토큰을 발급하여 응답 쿼리 헤더에 넣는다
6. 만약 리프레시 토큰도 만료(401에러)일 경우 클라이언트는 다시 로그인해야함

# 리프레시 토큰이 탈취되면?
- 리프레시 토큰을 통해 액세스 토큰을 계속 발급 받을 수 있으므로 권한을 탈취당한다
> 이를 방지하기 위해 새로운 액세스 토큰 발급시 리프레시 토큰도 같이 재발급하는 Refresh Token Rotation을 제시한다.